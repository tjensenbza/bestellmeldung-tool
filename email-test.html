<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>EmailJS Test (v3 SDK)</title>
</head>
<body style="font-family: sans-serif; padding: 2rem;">
  <h1>📧 EmailJS Test (aktuell)</h1>
  <p>Wenn du auf den Button klickst, wird eine Testmail über EmailJS versendet.</p>
  <button id="sendeBtn" style="padding: 1rem 2rem; font-size: 1rem;">Test-Mail senden</button>

  <p id="status" style="margin-top: 2rem; font-weight: bold;"></p>

  <script type="module">
    import emailjs from 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3.11.0/+esm';

    emailjs.init('Lbr8GkmRKaWI8UFxT');

    document.getElementById('sendeBtn').addEventListener('click', () => {
      document.getElementById('status').textContent = '⏳ Sende...';

      emailjs.send('service_635wmwu', 'template_yzgxwx6', {
        artikelname: 'Testartikel',
        restbestand: 3,
        melder: 'iPad User'
      })
      .then((response) => {
        document.getElementById('status').textContent = '✅ E-Mail versendet ✔️';
        console.log('✅ Erfolgreich:', response);
      })
      .catch((error) => {
        document.getElementById('status').textContent = '❌ Fehler: ' + JSON.stringify(error);
        console.error('❌ Fehler:', error);
      });
    });
  </script>
</body>
</html>
